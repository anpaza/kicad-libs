What is it
----------

This is the Blender's VRML2 export plugin, tweaked so that it's output
can be parsed by KiCad. The later has a VRML loader which was able to
read VRML files only if they were generated by Wings3D. It pays attention
to such details as which sections are present in object definition,
how many numbers per line are listed, where commas are placed and so on.
Any failure to comply results in a silent ignore of the 3D file.

So, this export plugin was tweaked in order to make its output
indistinguishable (by KiCad, that is) from the files generated by Wings3D.


Who did it
----------

The responsability for mutilating the original VRML2 plugin is mine,
Andrey Zabolotnyi <zapparello@ya.ru>


How to use
----------

Place the "io_scene_kicad" directory (not the contents of it!) into your
~/.blender/scripts/addons/ directory (or whatever equivalent on your OS).
If there's no scripts/addons directory, create one. Then launch Blender,
open User Settings dialog (Ctrl+Alt+U), select the Addons tab, select
the Import-Export category and enable the addon KiCadVRML2.

Now in File -> Export you must see the "KiCadVRML2" option.

While exporting, you may use the following options:

    * "Only selected" - if this is checked, only the selected meshes
      will be exported.

    * "Apply modifiers" - if this is checked, unapplied yet mesh modifiers
      will be applied before exporting. This won't affect the original
      mesh, just a temporary mesh will be created and exported, then removed.

    * "Origin to center" - if this is checked, meshes will be
      translated so that their origin translates to (0,0,0).
      This is particularily useful when you export many different parts from
      a single .blend file, make all secondary objects childs of the primary
      mesh, then you may select whole hierarchy by Ctrl+clicking on parent
      object name in scene tree viewer.

Some general guidelines:

    * Use only simple materials. Not that the addon cares, but you won't get
      procedural texturing in KiCad anyways :) The addon will export the following
      material settings: Diffuse color, Emissive color, Specular color, Ambient
      intensity, Specular intensity.

    * Use one-material-per-submesh. The export plugin will export only one
      material for every exported mesh (the first in list). No per-vertex
      colors are supported, they just blow the output file.

    * Adjust your material colors to look good in KiCad, not Blender :). For some
      reason, the colors are quite different when viewing in Blender and with
      a VRML2 viewer or KiCad.

    * Use the scale "1 blender unit" = 1mm. This is the default in the export
      plugin, which sets a default scale of 1/2.54 = 0.3937
      (KiCad, or rather Wings3D, use "1 Wings3D unit" = 0.1 inch).

      Of course, you may work in Wings3D units directly, in which case you
      will want to set the scale to 1.0.

    * I recommend to create parent-child hierarchies when using a single .blend
      file to store multiple models. Make the biggest mesh (usually the part body)
      to be the parent of every other mesh, then you can easily select the whole
      hierarchy (Ctrl+click on the parent in the Scene tree window) and export
      with the "Origin to Center" option enabled, which will move the parent's
      origin to (0,0,0) and the children will stay wherever they must be,
      relative to parent.
